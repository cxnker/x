local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- GUI
local gui = Instance.new("ScreenGui", game.CoreGui)
gui.ResetOnSpawn = false

-- Noclip Toggle
local button = Instance.new("TextButton", gui)
button.Size = UDim2.new(0.1,0,0,25)
button.Position = UDim2.new(0.1,0,0,30)
button.Text = "Noclip"
button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
button.TextColor3 = Color3.fromRGB(255, 255, 255)
button.TextSize = 10

-- Noclip Function
local noclip = false
local RunService = game:GetService("RunService")

local function toggleNoclip()
	noclip = not noclip
	button.Text = noclip and "Encendido" or "Apagado"

	if noclip then
		connection = RunService.Stepped:Connect(function()
			for _, part in pairs(player.Character:GetDescendants()) do
				if part:IsA("BasePart") and part.CanCollide then
					part.CanCollide = false
				end
			end
		end)
	else
		if connection then connection:Disconnect() end
		for _, part in pairs(player.Character:GetDescendants()) do
			if part:IsA("BasePart") then
				part.CanCollide = true
			end
		end
	end
end

button.MouseButton1Click:Connect(toggleNoclip)

